<div class="page-box container-fluid">
    <app-page-title title="Monitoring history">
    </app-page-title>
    <div style="margin-bottom: 25px;">
        <div class="container text-center" style="margin-bottom: 15px;">
            <div class="row" style="margin-bottom: 15px">
                <div class="col-md-12">
                    <button type="button" class="btn btn-outline-info" (click)="toggleSensorSelection()" [attr.aria-expanded]="!isSelectionCollapsed" aria-controls="collapseExample">
              {{ getSensorSelectionText() }}
            </button>
                </div>
            </div>
        </div>
        <div id="sensor-selection" [ngbCollapse]="isSelectionCollapsed">
            <div class="card border border-primary">
                <app-sensor-history-selector (sensorHistorySelection)=onSensorHistorySelection($event)> </app-sensor-history-selector>
            </div>
        </div>
    </div>
    <div>
        <hr/>
        <div *ngIf="isLoading()" class="text-center" style="margin-top: 60px;">
            <div class="spinner-border text-primary" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>

        <app-multi-chart-history *ngIf="isSelectionCollapsed && canDisplayData()" [sensorsMeasures]="sensorsMeasures" [measureTypes]="selectedMeasureTypes" [fromMillis]="sensorHistorySelection.fromMillis" [toMillis]="sensorHistorySelection.toMillis"> </app-multi-chart-history>
        <!--
        <app-debug-display-history *ngIf="isSelectionCollapsed && canDisplayData()" [sensorHistorySelection]=sensorHistorySelection></app-debug-display-history>
        -->
    </div>
</div>